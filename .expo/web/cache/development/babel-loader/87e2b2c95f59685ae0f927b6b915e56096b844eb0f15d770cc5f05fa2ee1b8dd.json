{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { AuthSession } from 'expo-auth-session';\nimport { WebView } from 'react-native-webview';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar NV_CLIENT_ID = 'YOUR_NAVER_CLIENT_ID';\nvar NV_REDIRECT_URI = AuthSession.getRedirectUri();\nvar NV_STATE_STRING = 'YOUR_STATE_STRING';\nexport default function NaverLogin() {\n  var _React$useState = React.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    showLogin = _React$useState2[0],\n    setShowLogin = _React$useState2[1];\n  var handlePressAsync = function () {\n    var _ref = _asyncToGenerator(function* () {\n      setShowLogin(true);\n    });\n    return function handlePressAsync() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var handleNavigationStateChange = function () {\n    var _ref2 = _asyncToGenerator(function* (newState) {\n      if (newState.url.includes(NV_REDIRECT_URI)) {\n        setShowLogin(false);\n        var responseUrl = newState.url;\n      }\n    });\n    return function handleNavigationStateChange(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(TouchableOpacity, {\n      onPress: handlePressAsync,\n      children: _jsx(Text, {\n        children: \"\\uB124\\uC774\\uBC84 \\uB85C\\uADF8\\uC778\"\n      })\n    }), showLogin && _jsx(WebView, {\n      source: {\n        uri: \"https://nid.naver.com/oauth2.0/authorize?response_type=code&client_id=\" + NV_CLIENT_ID + \"&redirect_uri=\" + NV_REDIRECT_URI + \"&state=\" + NV_STATE_STRING\n      },\n      onNavigationStateChange: handleNavigationStateChange,\n      style: styles.webview\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  webview: {\n    flex: 1,\n    width: '100%'\n  }\n});","map":{"version":3,"names":["React","View","StyleSheet","TouchableOpacity","Text","AuthSession","WebView","jsx","_jsx","jsxs","_jsxs","NV_CLIENT_ID","NV_REDIRECT_URI","getRedirectUri","NV_STATE_STRING","NaverLogin","_React$useState","useState","_React$useState2","_slicedToArray","showLogin","setShowLogin","handlePressAsync","_ref","_asyncToGenerator","apply","arguments","handleNavigationStateChange","_ref2","newState","url","includes","responseUrl","_x","style","styles","container","children","onPress","source","uri","onNavigationStateChange","webview","create","flex","alignItems","justifyContent","width"],"sources":["/Users/sojaeyeon/Desktop/ToyProject/expo/wiseSmoke_front/src/login/NaverLogin.js"],"sourcesContent":["import React from 'react';\nimport { View, StyleSheet, TouchableOpacity, Text } from 'react-native';\nimport { AuthSession } from 'expo-auth-session';\nimport { WebView } from 'react-native-webview';\n\nconst NV_CLIENT_ID = 'YOUR_NAVER_CLIENT_ID'; // 네이버 클라이언트 아이디\nconst NV_REDIRECT_URI = AuthSession.getRedirectUri(); // 리다이렉트 URI 설정\nconst NV_STATE_STRING = 'YOUR_STATE_STRING'; // 상태 문자열 설정\n\nexport default function NaverLogin() {\n  const [showLogin, setShowLogin] = React.useState(false);\n\n  const handlePressAsync = async () => {\n    setShowLogin(true);\n  };\n\n  const handleNavigationStateChange = async (newState) => {\n    if (newState.url.includes(NV_REDIRECT_URI)) {\n      setShowLogin(false);\n      const responseUrl = newState.url;\n      // 여기서 responseUrl에서 필요한 정보를 추출하고 처리합니다.\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <TouchableOpacity onPress={handlePressAsync}>\n        <Text>네이버 로그인</Text>\n      </TouchableOpacity>\n      {showLogin && (\n        <WebView\n          source={{\n            uri: `https://nid.naver.com/oauth2.0/authorize?response_type=code&client_id=${NV_CLIENT_ID}&redirect_uri=${NV_REDIRECT_URI}&state=${NV_STATE_STRING}`,\n          }}\n          onNavigationStateChange={handleNavigationStateChange}\n          style={styles.webview}\n        />\n      )}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  webview: {\n    flex: 1,\n    width: '100%',\n  },\n});"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,gBAAA;AAAA,OAAAC,IAAA;AAE1B,SAASC,WAAW,QAAQ,mBAAmB;AAC/C,SAASC,OAAO,QAAQ,sBAAsB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAE/C,IAAMC,YAAY,GAAG,sBAAsB;AAC3C,IAAMC,eAAe,GAAGP,WAAW,CAACQ,cAAc,CAAC,CAAC;AACpD,IAAMC,eAAe,GAAG,mBAAmB;AAE3C,eAAe,SAASC,UAAUA,CAAA,EAAG;EACnC,IAAAC,eAAA,GAAkChB,KAAK,CAACiB,QAAQ,CAAC,KAAK,CAAC;IAAAC,gBAAA,GAAAC,cAAA,CAAAH,eAAA;IAAhDI,SAAS,GAAAF,gBAAA;IAAEG,YAAY,GAAAH,gBAAA;EAE9B,IAAMI,gBAAgB;IAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,aAAY;MACnCH,YAAY,CAAC,IAAI,CAAC;IACpB,CAAC;IAAA,gBAFKC,gBAAgBA,CAAA;MAAA,OAAAC,IAAA,CAAAE,KAAA,OAAAC,SAAA;IAAA;EAAA,GAErB;EAED,IAAMC,2BAA2B;IAAA,IAAAC,KAAA,GAAAJ,iBAAA,CAAG,WAAOK,QAAQ,EAAK;MACtD,IAAIA,QAAQ,CAACC,GAAG,CAACC,QAAQ,CAACnB,eAAe,CAAC,EAAE;QAC1CS,YAAY,CAAC,KAAK,CAAC;QACnB,IAAMW,WAAW,GAAGH,QAAQ,CAACC,GAAG;MAElC;IACF,CAAC;IAAA,gBANKH,2BAA2BA,CAAAM,EAAA;MAAA,OAAAL,KAAA,CAAAH,KAAA,OAAAC,SAAA;IAAA;EAAA,GAMhC;EAED,OACEhB,KAAA,CAACT,IAAI;IAACiC,KAAK,EAAEC,MAAM,CAACC,SAAU;IAAAC,QAAA,GAC5B7B,IAAA,CAACL,gBAAgB;MAACmC,OAAO,EAAEhB,gBAAiB;MAAAe,QAAA,EAC1C7B,IAAA,CAACJ,IAAI;QAAAiC,QAAA,EAAC;MAAO,CAAM;IAAC,CACJ,CAAC,EAClBjB,SAAS,IACRZ,IAAA,CAACF,OAAO;MACNiC,MAAM,EAAE;QACNC,GAAG,6EAA2E7B,YAAY,sBAAiBC,eAAe,eAAUE;MACtI,CAAE;MACF2B,uBAAuB,EAAEd,2BAA4B;MACrDO,KAAK,EAAEC,MAAM,CAACO;IAAQ,CACvB,CACF;EAAA,CACG,CAAC;AAEX;AAEA,IAAMP,MAAM,GAAGjC,UAAU,CAACyC,MAAM,CAAC;EAC/BP,SAAS,EAAE;IACTQ,IAAI,EAAE,CAAC;IACPC,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE;EAClB,CAAC;EACDJ,OAAO,EAAE;IACPE,IAAI,EAAE,CAAC;IACPG,KAAK,EAAE;EACT;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}